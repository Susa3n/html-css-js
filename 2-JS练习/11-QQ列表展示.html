<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style>
ul,h2 {padding: 0;margin: 0;}
li {list-style: none;}
#list {width: 240px; border: 1px solid #333; margin: 0 auto;}
#list .lis{}
#list h2 {height: 30px; line-height: 30px; text-indent: 20px; background: url(images/img/ico1.gif) no-repeat 5px center #6ff;color: #000; }
#list .active {background: url(images/img/ico2.gif) no-repeat 5px center #ff9; color: #000;}
#list ul {display: none; }
#list ul li {line-height: 24px; border-bottom: 1px solid #333;text-indent: 24px; }
#list ul .hover {background: #6ff;}
</style>
</head>
<body>
<ul id="list">
	<li class="lis">
  	<h2>我的好友</h2>
    <ul>
    	<li>张三</li>
    	<li>张三</li>
    	<li>张三</li>
    	<li>张三</li>
    </ul>
  </li>
	<li class="lis">
  	<h2>企业好友</h2>
    <ul>
    	<li>李四</li>
    	<li>李四</li>
    	<li>李四</li>
    	<li>李四</li>
    	<li>李四</li>
    </ul>
  </li>
	<li class="lis">
  	<h2>黑名单</h2>
    <ul>
    	<li>张小三</li>
    	<li>李小四</li>
    </ul>
  </li>
</ul>	
</body>
<script>
	window.onload = function() {
		var oUl = document.getElementById('list');
		var aH2 = oUl.getElementsByTagName('h2');
		var aUl = oUl.getElementsByTagName('ul');
		var aLi = null;
		var arrLi = [];

		//点击列表的显示效果
		for (var i = 0; i < aH2.length; i++) {
			aH2[i].index = i;
			aH2[i].onclick =function(){

				//当前选中的列表展开其他列表合拢
				for (var i = 0; i < aH2.length; i++) {
					if(i != this.index ){
						aUl[i].style.display = 'none';
						aH2[i].className = '';
					}		
				}
				//列表展开和合拢切换
				if ( this.className == '' ) {
					aUl[this.index].style.display = 'block';
					this.className = 'active';
				}else {
					aUl[this.index].style.display = 'none';
					this.className = '';
				}
			};
			
		}

		//将列表中的li取出放入arrLI数组中
		for (var i = 0; i < aUl.length; i++) {
			aLi = aUl[i].getElementsByTagName('li');
			for (var j = 0; j < aLi.length; j++) {
				arrLi.push( aLi[j] ) ;
			}
		}

		//点击列表中的li显示效果
		for (var i = 0; i < arrLi.length; i++) {
			arrLi[i].onclick = function (){

				//只有当前选中列表的li有特殊效果
				for (var i = 0; i < arrLi.length; i++) {
					if (arrLi[i] !=this ){
						arrLi[i].className = '';
					} 
				}
				//未选中时点击选中，选中时点击取消选中
				if (this.className == '') {
					this.className = 'hover';
				}else{
					this.className = '';
				}
			};
		}

	};
</script>
</html>